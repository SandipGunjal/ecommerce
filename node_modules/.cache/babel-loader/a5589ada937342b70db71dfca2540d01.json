{"ast":null,"code":"var _jsxFileName = \"C:\\\\All React Project\\\\Resume Projects\\\\daraz-clone-client\\\\src\\\\components\\\\Page\\\\Products\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Footer from \"../Home/Footer\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { AiOutlineMinus, AiOutlinePlus } from \"react-icons/ai\";\nimport { useGlobalContext } from \"../../Context\";\nimport HeaderNav from \"../../Header Nav/HeaderNav\";\nimport { darazProducts } from \"../../ul-data\";\nimport roundNumber from \"../../shared/roundNumber\";\nimport { getImageUrl } from \"../../Helpers/getImageUrl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Products = () => {\n  _s();\n\n  var _currentProduct$image;\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentProduct, setCurrentProduct] = useState(darazProducts[0]);\n  const {\n    cartItems,\n    setCartItems,\n    showRedMsg,\n    userInfo,\n    API\n  } = useGlobalContext();\n  const [productQuantity, setProductQuantity] = useState(1);\n  const [showCaseImgId, setShowCaseImgId] = useState(0);\n  const [showCaseImage, setShowCaseImage] = useState(currentProduct === null || currentProduct === void 0 ? void 0 : (_currentProduct$image = currentProduct.images[showCaseImgId]) === null || _currentProduct$image === void 0 ? void 0 : _currentProduct$image.org);\n  const {\n    name\n  } = useParams();\n  const navigate = useNavigate();\n\n  const getProduct = async () => {\n    setIsLoading(true);\n    const {\n      data\n    } = await API.get(`/product/single?id=${name}`); //productId\n\n    setCurrentProduct(data.post);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    getProduct();\n  }, []);\n  useEffect(() => {\n    var _currentProduct$image2;\n\n    // console.log(currentProduct?.images[showCaseImgId]);\n    setShowCaseImage(currentProduct === null || currentProduct === void 0 ? void 0 : (_currentProduct$image2 = currentProduct.images[showCaseImgId]) === null || _currentProduct$image2 === void 0 ? void 0 : _currentProduct$image2.org);\n  }, [showCaseImgId, currentProduct]);\n\n  const setQuantity = e => {\n    let quantity = productQuantity;\n\n    if (e === \"minus\" && quantity !== 0) {\n      setProductQuantity(quantity - 1);\n    }\n\n    if (e === \"plus\") {\n      setProductQuantity(quantity + 1);\n    }\n  };\n\n  const setTheShowCaseImage = id => {\n    setShowCaseImgId(id);\n    setShowCaseImage(currentProduct.images[showCaseImgId].org);\n  };\n\n  const addToCart = () => {\n    let cachedItems = cartItems;\n    let cachedItem = { ...currentProduct,\n      quantity: productQuantity\n    };\n    let isExists = cachedItems.find(item => item._id === cachedItem._id);\n\n    if (!isExists) {\n      cachedItems.push(cachedItem);\n      setCartItems(cachedItems);\n      showRedMsg({\n        name: \"Item Added\"\n      });\n    } else {\n      showRedMsg({\n        name: \"Item Already Exists\"\n      });\n    }\n  };\n\n  const deleteItem = async id => {\n    const {\n      data\n    } = await API.delete(`/product/${id}`);\n\n    if (data.type === \"F\") {\n      showRedMsg({\n        name: data.msg\n      });\n    } else {\n      showRedMsg({\n        name: \"Product Delete Successfull \"\n      });\n    }\n\n    navigate(\"/home\");\n  };\n\n  const editProduct = async id => {\n    navigate(`/edit-product/${id}`);\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"full-size\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-loading\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/loading.gif\",\n        alt: \"loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"main\", {\n      style: {},\n      className: \"full-size\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dz-products-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dz-products-images center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-images-container full-size\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  maxHeight: \"50vh\"\n                },\n                src: `${getImageUrl(showCaseImage)}`,\n                alt: \"ProductImage\",\n                className: \"full-size\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"more-product-images-container\",\n              children: currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.images.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-more-images full-size center\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `${getImageUrl(item.org)}`,\n                    alt: \"moreimage\",\n                    className: `indi-product-image ${showCaseImgId === index && \"indi-product-border\"}`,\n                    onClick: e => {\n                      setTheShowCaseImage(index);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 25\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dz-products-main center full-size\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"products-main-info-container full-size\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"dz-product-name\",\n              children: currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-pricing\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-final-price\",\n                children: [\"\\u09F3\", roundNumber((currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.price) - (currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.price) / 100 * (currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.discount))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-discount-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-org-price\",\n                  children: [\"\\u09F3\", roundNumber(currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.price)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-discount-price\",\n                  children: [\"-\", currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.discount, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this), userInfo.id !== currentProduct.uploaderId && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-quantity\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pq-header\",\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pq-minus\",\n                onClick: e => {\n                  setQuantity(\"minus\");\n                },\n                children: /*#__PURE__*/_jsxDEV(AiOutlineMinus, {\n                  style: {\n                    height: \"80%\",\n                    width: \"auto\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pq-amount\",\n                children: [productQuantity, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pq-plus\",\n                onClick: e => {\n                  setQuantity(\"plus\");\n                },\n                children: /*#__PURE__*/_jsxDEV(AiOutlinePlus, {\n                  style: {\n                    height: \"80%\",\n                    width: \"auto\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-total-price\",\n              children: [\"Total Price: \\u09F3\", roundNumber(((currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.price) - (currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.price) / 100 * (currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.discount)) * productQuantity)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-buying-actions\",\n              children: [userInfo.id !== currentProduct.uploaderId && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dz-buy-product\",\n                children: \"Buy Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 21\n              }, this), userInfo.id !== currentProduct.uploaderId && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"add-to-cart\",\n                onClick: () => {\n                  addToCart();\n                },\n                children: \"Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this), userInfo.id === currentProduct.uploaderId && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dz-buy-product\",\n                onClick: () => {\n                  editProduct(currentProduct._id);\n                },\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 21\n              }, this), userInfo.id === currentProduct.uploaderId && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"add-to-cart\",\n                onClick: () => {\n                  deleteItem(currentProduct._id);\n                },\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dz-products-more-info center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"more-product-info\",\n            children: \"More Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"No More Data Provided\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Products, \"OUB1ZocMRpCG59JOmpG6+uueA8o=\", false, function () {\n  return [useGlobalContext, useParams, useNavigate];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["C:/All React Project/Resume Projects/daraz-clone-client/src/components/Page/Products/index.js"],"names":["React","useState","useEffect","Footer","useParams","useNavigate","AiOutlineMinus","AiOutlinePlus","useGlobalContext","HeaderNav","darazProducts","roundNumber","getImageUrl","Products","isLoading","setIsLoading","currentProduct","setCurrentProduct","cartItems","setCartItems","showRedMsg","userInfo","API","productQuantity","setProductQuantity","showCaseImgId","setShowCaseImgId","showCaseImage","setShowCaseImage","images","org","name","navigate","getProduct","data","get","post","setQuantity","e","quantity","setTheShowCaseImage","id","addToCart","cachedItems","cachedItem","isExists","find","item","_id","push","deleteItem","delete","type","msg","editProduct","window","scrollTo","maxHeight","map","index","price","discount","uploaderId","height","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Footer from \"../Home/Footer\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nimport { AiOutlineMinus, AiOutlinePlus } from \"react-icons/ai\";\r\nimport { useGlobalContext } from \"../../Context\";\r\nimport HeaderNav from \"../../Header Nav/HeaderNav\";\r\nimport { darazProducts } from \"../../ul-data\";\r\nimport roundNumber from \"../../shared/roundNumber\";\r\nimport { getImageUrl } from \"../../Helpers/getImageUrl\";\r\n\r\nconst Products = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const [currentProduct, setCurrentProduct] = useState(darazProducts[0]);\r\n  const { cartItems, setCartItems, showRedMsg, userInfo, API } =\r\n    useGlobalContext();\r\n\r\n  const [productQuantity, setProductQuantity] = useState(1);\r\n  const [showCaseImgId, setShowCaseImgId] = useState(0);\r\n  const [showCaseImage, setShowCaseImage] = useState(\r\n    currentProduct?.images[showCaseImgId]?.org\r\n  );\r\n\r\n  \r\n\r\n  const { name } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const getProduct = async () => {\r\n    setIsLoading(true);\r\n    const { data } = await API.get(`/product/single?id=${name}`); //productId\r\n    setCurrentProduct(data.post);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProduct();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // console.log(currentProduct?.images[showCaseImgId]);\r\n    setShowCaseImage(currentProduct?.images[showCaseImgId]?.org);\r\n  }, [showCaseImgId, currentProduct]);\r\n\r\n  const setQuantity = (e) => {\r\n    let quantity = productQuantity;\r\n\r\n    if (e === \"minus\" && quantity !== 0) {\r\n      setProductQuantity(quantity - 1);\r\n    }\r\n    if (e === \"plus\") {\r\n      setProductQuantity(quantity + 1);\r\n    }\r\n  };\r\n  const setTheShowCaseImage = (id) => {\r\n    setShowCaseImgId(id);\r\n    setShowCaseImage(currentProduct.images[showCaseImgId].org);\r\n  };\r\n\r\n  const addToCart = () => {\r\n    let cachedItems = cartItems;\r\n\r\n    let cachedItem = { ...currentProduct, quantity: productQuantity };\r\n\r\n    let isExists = cachedItems.find((item) => item._id === cachedItem._id);\r\n\r\n    if (!isExists) {\r\n      cachedItems.push(cachedItem);\r\n\r\n      setCartItems(cachedItems);\r\n      showRedMsg({ name: \"Item Added\" });\r\n    } else {\r\n      showRedMsg({ name: \"Item Already Exists\" });\r\n    }\r\n  };\r\n\r\n  const deleteItem = async (id) => {\r\n    const { data } = await API.delete(`/product/${id}`);\r\n    if (data.type === \"F\") {\r\n      showRedMsg({ name: data.msg });\r\n    } else {\r\n      showRedMsg({ name: \"Product Delete Successfull \" });\r\n    }\r\n    navigate(\"/home\");\r\n  };\r\n\r\n  const editProduct = async (id) => {\r\n    navigate(`/edit-product/${id}`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n  return (\r\n    <div className=\"full-size\">\r\n      <HeaderNav />\r\n\r\n      {isLoading ? (\r\n        <div className=\"search-loading\">\r\n          <img src=\"/loading.gif\" alt=\"loading\" />\r\n        </div>\r\n      ) : (\r\n        <main style={{}} className=\"full-size\">\r\n          <div className=\"dz-products-container\">\r\n            <div className=\"dz-products-images center\">\r\n              <div className=\"product-images-container full-size\">\r\n                <div className=\"product-image\">\r\n                  <img\r\n                    style={{ maxHeight: \"50vh\" }}\r\n                    src={`${getImageUrl(showCaseImage)}`}\r\n                    alt=\"ProductImage\"\r\n                    className=\"full-size\"\r\n                  />\r\n                </div>\r\n                <div className=\"more-product-images-container\">\r\n                  {currentProduct?.images.map((item, index) => {\r\n                    return (\r\n                      <div\r\n                        className=\"product-more-images full-size center\"\r\n                        key={index}\r\n                      >\r\n                        <img\r\n                          src={`${getImageUrl(item.org)}`}\r\n                          alt=\"moreimage\"\r\n                          className={`indi-product-image ${\r\n                            showCaseImgId === index && \"indi-product-border\"\r\n                          }`}\r\n                          onClick={(e) => {\r\n                            setTheShowCaseImage(index);\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"dz-products-main center full-size\">\r\n              <div className=\"products-main-info-container full-size\">\r\n                <h3 className=\"dz-product-name\">{currentProduct?.name}</h3>\r\n                {/* <div className=\"dz-product-info-mid\">\r\n                <div className=\"product-rating-container\">Rating</div>\r\n\r\n                <div className=\"product-info-mid-right\">Share</div>\r\n              </div> */}\r\n                <div className=\"product-pricing\">\r\n                  <div className=\"product-final-price\">\r\n                    ৳\r\n                    {roundNumber(\r\n                      currentProduct?.price -\r\n                        (currentProduct?.price / 100) * currentProduct?.discount\r\n                    )}\r\n                  </div>\r\n                  <div className=\"product-discount-info\">\r\n                    <div className=\"product-org-price\">\r\n                      ৳{roundNumber(currentProduct?.price)}\r\n                    </div>\r\n                    <div className=\"product-discount-price\">\r\n                      -{currentProduct?.discount}%\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {userInfo.id !== currentProduct.uploaderId && (\r\n                  <div className=\"product-quantity\">\r\n                    <div className=\"pq-header\">Quantity</div>\r\n\r\n                    <div\r\n                      className=\"pq-minus\"\r\n                      onClick={(e) => {\r\n                        setQuantity(\"minus\");\r\n                      }}\r\n                    >\r\n                      <AiOutlineMinus\r\n                        style={{ height: \"80%\", width: \"auto\" }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"pq-amount\">{productQuantity} </div>\r\n                    <div\r\n                      className=\"pq-plus\"\r\n                      onClick={(e) => {\r\n                        setQuantity(\"plus\");\r\n                      }}\r\n                    >\r\n                      <AiOutlinePlus style={{ height: \"80%\", width: \"auto\" }} />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"product-total-price\">\r\n                  Total Price: ৳\r\n                  {roundNumber(\r\n                    (currentProduct?.price -\r\n                      (currentProduct?.price / 100) *\r\n                        currentProduct?.discount) *\r\n                      productQuantity\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"product-buying-actions\">\r\n                  {userInfo.id !== currentProduct.uploaderId && (\r\n                    <div className=\"dz-buy-product\">Buy Now</div>\r\n                  )}\r\n\r\n                  {userInfo.id !== currentProduct.uploaderId && (\r\n                    <div\r\n                      className=\"add-to-cart\"\r\n                      onClick={() => {\r\n                        addToCart();\r\n                      }}\r\n                    >\r\n                      Add to Cart\r\n                    </div>\r\n                  )}\r\n                  {userInfo.id === currentProduct.uploaderId && (\r\n                    <div\r\n                      className=\"dz-buy-product\"\r\n                      onClick={() => {\r\n                        editProduct(currentProduct._id);\r\n                      }}\r\n                    >\r\n                      Edit\r\n                    </div>\r\n                  )}\r\n\r\n                  {userInfo.id === currentProduct.uploaderId && (\r\n                    <div\r\n                      className=\"add-to-cart\"\r\n                      onClick={() => {\r\n                        deleteItem(currentProduct._id);\r\n                      }}\r\n                    >\r\n                      Delete\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"dz-products-more-info center\">\r\n              <h3 className=\"more-product-info\">More Info</h3>\r\n              <h5>No More Data Provided</h5>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      )}\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"]},"metadata":{},"sourceType":"module"}