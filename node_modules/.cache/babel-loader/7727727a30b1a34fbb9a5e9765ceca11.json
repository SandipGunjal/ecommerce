{"ast":null,"code":"var _jsxFileName = \"C:\\\\All React Project\\\\Resume Projects\\\\daraz-clone-client\\\\src\\\\components\\\\Page\\\\Upload Product\\\\UploadProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport HeaderNav from \"../../Header Nav/HeaderNav\";\nimport Footer from \"../Home/Footer\";\nimport { MdOutlineCancelPresentation, MdCancel } from \"react-icons/md\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AiFillPlusSquare } from \"react-icons/ai\";\nimport { useGlobalContext } from \"../../Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UploadProduct = () => {\n  _s();\n\n  const {\n    logedIn,\n    showRedMsg,\n    API,\n    userInfo,\n    topNottification,\n    setTopNottification\n  } = useGlobalContext();\n  const navigate = useNavigate();\n  const imageInput = useRef(null);\n  const [preview, setPreview] = useState([]);\n  const [productInfoUpload, setProductInfoUpload] = useState({\n    name: \"\",\n    price: \"\",\n    discount: \"\",\n    images: [],\n    keywords: [{\n      id: 1639378535414,\n      name: \"Flash Sale\"\n    }],\n    uploader: userInfo.name,\n    uploaderId: userInfo.id\n  });\n  const [subKeyWord, setSubKeyWord] = useState(\"\");\n  useEffect(() => {\n    if (!logedIn) {\n      navigate(\"/register\");\n      showRedMsg({\n        name: \"You Need to Log in to sell on daraz\"\n      });\n    }\n  }, [logedIn]);\n  const [uploadProgress, setUploadProgress] = useState(0);\n\n  const handleProductInfoSubmit = async e => {\n    e.preventDefault();\n\n    if (productInfoUpload.images.length > 0) {\n      let formData = new FormData();\n      formData.append(\"name\", productInfoUpload.name);\n      formData.append(\"price\", productInfoUpload.price);\n      formData.append(\"discount\", productInfoUpload.discount);\n      formData.append(\"keywords\", JSON.stringify(productInfoUpload.keywords));\n      formData.append(\"uploader\", productInfoUpload.uploader);\n      formData.append(\"uploaderId\", productInfoUpload.uploaderId);\n\n      for (let i = 0; i < productInfoUpload.images.length; i++) {\n        formData.append(\"images\", productInfoUpload.images[i].src);\n      }\n\n      let {\n        data\n      } = await API.post(\"/product\", formData, {\n        onUploadProgress: progressEvent => {\n          const progress = parseInt(Math.round(progressEvent.loaded * 100 / progressEvent.total)); // Update state here\n\n          setUploadProgress(progress);\n          setTopNottification({ ...topNottification,\n            type: \"progress\",\n            progress,\n            name: \"\",\n            bg: \"#ff7302\",\n            color: \"white\"\n          });\n        }\n      });\n      showRedMsg({\n        name: \"Product upload Successfull\"\n      });\n    } else {\n      showRedMsg({\n        name: \"Please Select Image To Upload!\"\n      });\n    }\n\n    navigate(\"/home\");\n  };\n\n  const toBase64 = file => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file); //must use query selector here\n\n    reader.onload = () => {\n      resolve(reader.result);\n    };\n\n    reader.onerror = error => reject(error);\n  });\n\n  const selectImage = async () => {\n    // await imageInput.current.click();\n    let selectInput = await document.querySelector(\"#inputImage\").files[0];\n\n    if (selectInput !== undefined) {\n      let cashedImageArray = await productInfoUpload.images;\n      const imageString = await toBase64(selectInput);\n      let commonId = new Date().getTime();\n      await cashedImageArray.push({\n        id: commonId,\n        src: selectInput\n      });\n      setPreview([...preview, {\n        id: commonId,\n        src: imageString\n      }]);\n      await setProductInfoUpload({ ...productInfoUpload,\n        images: cashedImageArray\n      });\n    }\n  };\n\n  const removeImage = e => {\n    let cashedImageArray = productInfoUpload.images;\n    let cachedPreviewArray = preview;\n    let finalImagesArray = cashedImageArray.filter(item => item.id !== e);\n    let finalPreviewArray = cachedPreviewArray.filter(item => item.id !== e);\n    setProductInfoUpload({ ...productInfoUpload,\n      images: finalImagesArray\n    });\n    setPreview(finalPreviewArray);\n  };\n\n  const addKeyword = () => {\n    if (subKeyWord !== \"\") {\n      let casheKeyword = productInfoUpload.keywords;\n      casheKeyword.push({\n        id: new Date().getTime(),\n        name: subKeyWord.toLowerCase()\n      });\n      setProductInfoUpload({ ...productInfoUpload,\n        keywords: casheKeyword\n      });\n      setSubKeyWord(\"\");\n    }\n  };\n\n  const removeKeyWord = e => {\n    let cashedItems = productInfoUpload.keywords;\n    let finalItems = cashedItems.filter(item => item.id !== e);\n    setProductInfoUpload({ ...productInfoUpload,\n      keywords: finalItems\n    });\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const testUpload = async e => {\n    let formData = new FormData();\n\n    for (let i = 0; i < e.target.files.length; i++) {\n      formData.append(\"images\", e.target.files[i]);\n    }\n\n    let {\n      data\n    } = await API.post(\"/product/w/\", formData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"full-size\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-products-main full-size\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-products-main-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"log-in-form\",\n          onSubmit: e => {\n            handleProductInfoSubmit(e);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dr-image-input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"inputImage\",\n              ref: imageInput,\n              type: \"file\",\n              alt: \"sdhdj\",\n              style: {\n                display: \"none\"\n              },\n              onChange: e => {\n                selectImage();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), productInfoUpload.images.map((item, index) => {\n              var _preview$index;\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dr-image-input-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: (_preview$index = preview[index]) === null || _preview$index === void 0 ? void 0 : _preview$index.src,\n                  alt: index,\n                  className: \"full-size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cross-image\",\n                  onClick: e => {\n                    removeImage(item.id);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(MdCancel, {\n                    className: \"ps-image-cross\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this);\n            }), productInfoUpload.images.length <= 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dr-image-input-item\",\n              onClick: e => {\n                imageInput.current.click();\n              },\n              children: /*#__PURE__*/_jsxDEV(AiFillPlusSquare, {\n                className: \"full-size\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dr-input-email\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                alignSelf: \"flex-start\"\n              },\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"register-input\",\n              value: productInfoUpload.name,\n              name: \"name\",\n              type: \"name\",\n              placeholder: \"Enter Product Name\",\n              onChange: e => {\n                setProductInfoUpload({ ...productInfoUpload,\n                  name: e.target.value\n                });\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dr-input-password\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                alignSelf: \"flex-start\"\n              },\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"register-input\",\n              value: productInfoUpload.price,\n              name: \"price\",\n              type: \"number\",\n              placeholder: \"Enter Price\",\n              onChange: e => {\n                setProductInfoUpload({ ...productInfoUpload,\n                  price: e.target.value\n                });\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dr-input-password\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                alignSelf: \"flex-start\"\n              },\n              children: [\"Discount: \", productInfoUpload.discount, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"register-input\",\n              value: productInfoUpload.discount,\n              name: \"discount\",\n              type: \"range\",\n              min: \"1\",\n              max: \"100\",\n              placeholder: \"Enter Discount\",\n              onChange: e => {\n                setProductInfoUpload({ ...productInfoUpload,\n                  discount: e.target.value\n                });\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dz-add-keyword\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                alignSelf: \"flex-start\"\n              },\n              children: \"Add Keywords\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"keyword-input-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"register-input\",\n                value: subKeyWord,\n                name: \"name\",\n                type: \"name\",\n                placeholder: \"Enter Keyword\",\n                onChange: e => {\n                  setSubKeyWord(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"add-k-btn\",\n                onClick: e => {\n                  addKeyword();\n                },\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"added-keywords-container\",\n              children: productInfoUpload.keywords.map(item => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"added-keywords\",\n                  children: [item.name, /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"added-keyword-cross\",\n                    onClick: e => {\n                      removeKeyWord(item.id);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(MdOutlineCancelPresentation, {\n                      style: {\n                        color: \"#ff0000ad\",\n                        width: \"2rem\",\n                        height: \"1.5rem\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 23\n                  }, this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dr-login-submit full-size center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"dz-login-btn\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      style: {\n        display: \"none\"\n      },\n      type: \"file\",\n      multiple: true,\n      onChange: e => {\n        testUpload(e);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UploadProduct, \"XeHh5dCzOCNaG27HDsxbSSXkKWs=\", false, function () {\n  return [useGlobalContext, useNavigate];\n});\n\n_c = UploadProduct;\nexport default UploadProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadProduct\");","map":{"version":3,"sources":["C:/All React Project/Resume Projects/daraz-clone-client/src/components/Page/Upload Product/UploadProduct.js"],"names":["React","useState","useEffect","useRef","HeaderNav","Footer","MdOutlineCancelPresentation","MdCancel","useNavigate","AiFillPlusSquare","useGlobalContext","UploadProduct","logedIn","showRedMsg","API","userInfo","topNottification","setTopNottification","navigate","imageInput","preview","setPreview","productInfoUpload","setProductInfoUpload","name","price","discount","images","keywords","id","uploader","uploaderId","subKeyWord","setSubKeyWord","uploadProgress","setUploadProgress","handleProductInfoSubmit","e","preventDefault","length","formData","FormData","append","JSON","stringify","i","src","data","post","onUploadProgress","progressEvent","progress","parseInt","Math","round","loaded","total","type","bg","color","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","selectImage","selectInput","document","querySelector","files","undefined","cashedImageArray","imageString","commonId","Date","getTime","push","removeImage","cachedPreviewArray","finalImagesArray","filter","item","finalPreviewArray","addKeyword","casheKeyword","toLowerCase","removeKeyWord","cashedItems","finalItems","window","scrollTo","testUpload","target","display","map","index","current","click","alignSelf","value","width","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport HeaderNav from \"../../Header Nav/HeaderNav\";\r\nimport Footer from \"../Home/Footer\";\r\nimport { MdOutlineCancelPresentation, MdCancel } from \"react-icons/md\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { AiFillPlusSquare } from \"react-icons/ai\";\r\nimport { useGlobalContext } from \"../../Context\";\r\n\r\nconst UploadProduct = () => {\r\n  const {\r\n    logedIn,\r\n    showRedMsg,\r\n    API,\r\n    userInfo,\r\n    topNottification,\r\n    setTopNottification,\r\n  } = useGlobalContext();\r\n\r\n  const navigate = useNavigate();\r\n  const imageInput = useRef(null);\r\n  const [preview, setPreview] = useState([]);\r\n\r\n  const [productInfoUpload, setProductInfoUpload] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    discount: \"\",\r\n    images: [],\r\n    keywords: [{ id: 1639378535414, name: \"Flash Sale\" }],\r\n    uploader: userInfo.name,\r\n    uploaderId: userInfo.id,\r\n  });\r\n\r\n  const [subKeyWord, setSubKeyWord] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!logedIn) {\r\n      navigate(\"/register\");\r\n      showRedMsg({ name: \"You Need to Log in to sell on daraz\" });\r\n    }\r\n  }, [logedIn]);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n\r\n  const handleProductInfoSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (productInfoUpload.images.length > 0) {\r\n      let formData = new FormData();\r\n\r\n      formData.append(\"name\", productInfoUpload.name);\r\n      formData.append(\"price\", productInfoUpload.price);\r\n      formData.append(\"discount\", productInfoUpload.discount);\r\n      formData.append(\"keywords\", JSON.stringify(productInfoUpload.keywords));\r\n\r\n      formData.append(\"uploader\", productInfoUpload.uploader);\r\n      formData.append(\"uploaderId\", productInfoUpload.uploaderId);\r\n\r\n      for (let i = 0; i < productInfoUpload.images.length; i++) {\r\n        formData.append(\"images\", productInfoUpload.images[i].src);\r\n      }\r\n\r\n      let { data } = await API.post(\"/product\", formData, {\r\n        onUploadProgress: (progressEvent) => {\r\n          const progress = parseInt(\r\n            Math.round((progressEvent.loaded * 100) / progressEvent.total)\r\n          );\r\n          // Update state here\r\n          setUploadProgress(progress);\r\n          setTopNottification({\r\n            ...topNottification,\r\n            type: \"progress\",\r\n            progress,\r\n            name: \"\",\r\n            bg: \"#ff7302\",\r\n            color: \"white\",\r\n          });\r\n        },\r\n      });\r\n\r\n      showRedMsg({ name: \"Product upload Successfull\" });\r\n    } else {\r\n      showRedMsg({ name: \"Please Select Image To Upload!\" });\r\n    }\r\n    navigate(\"/home\");\r\n  };\r\n\r\n  const toBase64 = (file) =>\r\n    new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n\r\n      reader.readAsDataURL(file); //must use query selector here\r\n      reader.onload = () => {\r\n        resolve(reader.result);\r\n      };\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n\r\n  const selectImage = async () => {\r\n    // await imageInput.current.click();\r\n    let selectInput = await document.querySelector(\"#inputImage\").files[0];\r\n    if (selectInput !== undefined) {\r\n      let cashedImageArray = await productInfoUpload.images;\r\n\r\n      const imageString = await toBase64(selectInput);\r\n\r\n      let commonId = new Date().getTime();\r\n\r\n      await cashedImageArray.push({\r\n        id: commonId,\r\n        src: selectInput,\r\n      });\r\n      setPreview([\r\n        ...preview,\r\n        {\r\n          id: commonId,\r\n          src: imageString,\r\n        },\r\n      ]);\r\n\r\n      await setProductInfoUpload({\r\n        ...productInfoUpload,\r\n        images: cashedImageArray,\r\n      });\r\n    }\r\n  };\r\n  const removeImage = (e) => {\r\n    let cashedImageArray = productInfoUpload.images;\r\n    let cachedPreviewArray = preview;\r\n\r\n    let finalImagesArray = cashedImageArray.filter((item) => item.id !== e);\r\n    let finalPreviewArray = cachedPreviewArray.filter((item) => item.id !== e);\r\n\r\n    setProductInfoUpload({ ...productInfoUpload, images: finalImagesArray });\r\n    setPreview(finalPreviewArray);\r\n  };\r\n  const addKeyword = () => {\r\n    if (subKeyWord !== \"\") {\r\n      let casheKeyword = productInfoUpload.keywords;\r\n\r\n      casheKeyword.push({\r\n        id: new Date().getTime(),\r\n        name: subKeyWord.toLowerCase(),\r\n      });\r\n\r\n      setProductInfoUpload({ ...productInfoUpload, keywords: casheKeyword });\r\n\r\n      setSubKeyWord(\"\");\r\n    }\r\n  };\r\n\r\n  const removeKeyWord = (e) => {\r\n    let cashedItems = productInfoUpload.keywords;\r\n\r\n    let finalItems = cashedItems.filter((item) => item.id !== e);\r\n\r\n    setProductInfoUpload({ ...productInfoUpload, keywords: finalItems });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const testUpload = async (e) => {\r\n    let formData = new FormData();\r\n\r\n    for (let i = 0; i < e.target.files.length; i++) {\r\n      formData.append(\"images\", e.target.files[i]);\r\n    }\r\n    let { data } = await API.post(\"/product/w/\", formData);\r\n  };\r\n  return (\r\n    <div className=\"full-size\">\r\n      <HeaderNav />\r\n\r\n      <div className=\"upload-products-main full-size\">\r\n        <div className=\"upload-products-main-container\">\r\n          <form\r\n            className=\"log-in-form\"\r\n            onSubmit={(e) => {\r\n              handleProductInfoSubmit(e);\r\n            }}\r\n          >\r\n            {/* <img\r\n              src=\"daraz-logo.png\"\r\n              alt=\"daraz\"\r\n              style={{ height: \"2.6rem\", width: \"auto\" }}\r\n            /> */}\r\n\r\n            <div className=\"dr-image-input-container\">\r\n              <input\r\n                id=\"inputImage\"\r\n                ref={imageInput}\r\n                type=\"file\"\r\n                alt=\"sdhdj\"\r\n                style={{ display: \"none\" }}\r\n                onChange={(e) => {\r\n                  selectImage();\r\n                }}\r\n              />\r\n\r\n              {productInfoUpload.images.map((item, index) => {\r\n                return (\r\n                  <div className=\"dr-image-input-item\" key={item.id}>\r\n                    <img\r\n                      src={preview[index]?.src}\r\n                      alt={index}\r\n                      className=\"full-size\"\r\n                    />\r\n                    <div\r\n                      className=\"cross-image\"\r\n                      onClick={(e) => {\r\n                        removeImage(item.id);\r\n                      }}\r\n                    >\r\n                      <MdCancel className=\"ps-image-cross\" />\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n              {productInfoUpload.images.length <= 2 && (\r\n                <div\r\n                  className=\"dr-image-input-item\"\r\n                  onClick={(e) => {\r\n                    imageInput.current.click();\r\n                  }}\r\n                >\r\n                  <AiFillPlusSquare className=\"full-size\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"dr-input-email\">\r\n              <label style={{ alignSelf: \"flex-start\" }}>Product Name</label>\r\n              <input\r\n                className=\"register-input\"\r\n                value={productInfoUpload.name}\r\n                name=\"name\"\r\n                type=\"name\"\r\n                placeholder=\"Enter Product Name\"\r\n                onChange={(e) => {\r\n                  setProductInfoUpload({\r\n                    ...productInfoUpload,\r\n                    name: e.target.value,\r\n                  });\r\n                }}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"dr-input-password\">\r\n              <label style={{ alignSelf: \"flex-start\" }}>Price</label>\r\n              <input\r\n                className=\"register-input\"\r\n                value={productInfoUpload.price}\r\n                name=\"price\"\r\n                type=\"number\"\r\n                placeholder=\"Enter Price\"\r\n                onChange={(e) => {\r\n                  setProductInfoUpload({\r\n                    ...productInfoUpload,\r\n                    price: e.target.value,\r\n                  });\r\n                }}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"dr-input-password\">\r\n              <label style={{ alignSelf: \"flex-start\" }}>\r\n                Discount: {productInfoUpload.discount}%\r\n              </label>\r\n              <input\r\n                className=\"register-input\"\r\n                value={productInfoUpload.discount}\r\n                name=\"discount\"\r\n                type=\"range\"\r\n                min=\"1\"\r\n                max=\"100\"\r\n                placeholder=\"Enter Discount\"\r\n                onChange={(e) => {\r\n                  setProductInfoUpload({\r\n                    ...productInfoUpload,\r\n                    discount: e.target.value,\r\n                  });\r\n                }}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"dz-add-keyword\">\r\n              <label style={{ alignSelf: \"flex-start\" }}>Add Keywords</label>\r\n              <div className=\"keyword-input-container\">\r\n                <input\r\n                  className=\"register-input\"\r\n                  value={subKeyWord}\r\n                  name=\"name\"\r\n                  type=\"name\"\r\n                  placeholder=\"Enter Keyword\"\r\n                  onChange={(e) => {\r\n                    setSubKeyWord(e.target.value);\r\n                  }}\r\n                />\r\n                <div\r\n                  className=\"add-k-btn\"\r\n                  onClick={(e) => {\r\n                    addKeyword();\r\n                  }}\r\n                >\r\n                  Add\r\n                </div>\r\n              </div>\r\n              <div className=\"added-keywords-container\">\r\n                {productInfoUpload.keywords.map((item) => {\r\n                  return (\r\n                    <div className=\"added-keywords\" key={item.id}>\r\n                      {item.name}\r\n\r\n                      <div\r\n                        className=\"added-keyword-cross\"\r\n                        onClick={(e) => {\r\n                          removeKeyWord(item.id);\r\n                        }}\r\n                      >\r\n                        <MdOutlineCancelPresentation\r\n                          style={{\r\n                            color: \"#ff0000ad\",\r\n                            width: \"2rem\",\r\n                            height: \"1.5rem\",\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"dr-login-submit full-size center\">\r\n              <button className=\"dz-login-btn\">Submit</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      {/* Display: \"none\" */}\r\n      <input\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        multiple\r\n        onChange={(e) => {\r\n          testUpload(e);\r\n        }}\r\n      />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadProduct;\r\n"]},"metadata":{},"sourceType":"module"}